---
 layout:     post
 title:      C++集锦
 subtitle:   C++百问百答
 date:       2018-12-19
 author:     Bob
 header-img: img/post-bg-rwd.jpg
 catalog: true
 tags:
     - C++
---

#### const用法

##### const 修饰成员变量 

```c

int money = 18;

int const bank = money;

int *card = &money;

//指针所指数据是常量

const int *wechat = &money;

//指针本身是常量

int * const aiplay = &money;

//指针和指针所指数据都不能修改

const int * const bcoin = &money;

```

##### const修饰函数参数

```c

void getMoney(const int value) {

    value = 5;//编译失败

}

```

##### const修饰成员函数


```c


class Service {

	int money;

	void getMoney(int value) const {

		money = value;//编译失败

	}
};


```

##### const修饰函数返回值

```c

///const data,non-const pointer

const int * getMoney(){

	int *money = new int();

	return money;

}

const int *card = getMoney();

```

#### 变参的函数

```c

#include <stdio.h> 

#include <stdlib.h>

#include<stdarg.h>

void format(const char *p_format,...) {

	va_list argp;

	va_start(argp, p_format);

	const unsigned int BUFFER_SIZE = 16384;

	char buf[BUFFER_SIZE + 1];

	vsnprintf(buf, BUFFER_SIZE, p_format, argp);

	printf("%s",buf);
    
	va_end(argp);

};


int main()
{

	format("you are %s / %s","boy","girl");

	system("Pause");

	return 0;
    
}

```